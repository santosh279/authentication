{"ast":null,"code":"var _jsxFileName = \"/home/santhosh/Desktop/auth-service/auth-service-client/src/Container/MobileAuth/sendOtp.js\";\nimport React from \"react\";\nimport SendOtpView from \"../../Components/Mobile/sendOtpView\";\nimport * as Actions from \"../../Actions\";\nimport { connect } from \"react-redux\";\nimport VerifyOtp from \"../../Components/Mobile/verifyOtp\";\n\nclass SendOtp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleVerifyOnSubmit = (values, actions) => {\n      const otp = values.otp;\n      const contact = this.state.contact;\n      const dispatch = this.props.dispatch;\n      dispatch(Actions.verifyOtp({\n        contact,\n        otp\n      }));\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        respSuccess: false\n      });\n    };\n\n    this.state = {\n      otp: \"\",\n      contact: \"\",\n      respMessage: '',\n      respSuccess: false,\n      onClick: false,\n      verify: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.sentOtp && nextProps.sentOtp.error && nextProps.sentOtp.error.data && !nextProps.sentOtp.error.data.success || nextProps.verifyOtp && nextProps.verifyOtp.error && nextProps.verifyOtp.error.data && !nextProps.verifyOtp.error.data.success) {\n      this.setState({\n        respMessage: nextProps.sentOtp.error.data.message ? nextProps.sentOtp.error.data.message : nextProps.sentOtp.error.data.error.message,\n        respSuccess: true\n      });\n    } else {\n      if (nextProps.sentOtp && nextProps.sentOtp.data.data && nextProps.sentOtp.data.data.success || nextProps.verifyOtp && nextProps.verifyOtp.data && nextProps.verifyOtp.data.success) {\n        this.setState({\n          respMessage: nextProps.verifyOtp.data ? nextProps.verifyOtp.data : nextProps.sentOtp.data.data.message,\n          respSuccess: nextProps.verifyOtp.data.success ? nextProps.verifyOtp.data.success : true,\n          verify: true,\n          contact: nextProps.verifyOtp.data.success ? \"\" : nextProps.sentOtp.data.data.contact\n        });\n      } else {\n        this.setState({\n          respMessage: nextProps.verifyOtp.data.message ? nextProps.verifyOtp.data.message : nextProps.sentOtp.data.message,\n          respSuccess: true\n        });\n      }\n    }\n  }\n\n  handleSubmit(values, actions) {\n    const contact = values.contact;\n    const dispatch = this.props.dispatch;\n    dispatch(Actions.sendOtp({\n      contact\n    }));\n  }\n\n  render() {\n    const _this$state = this.state,\n          contact = _this$state.contact,\n          respSuccess = _this$state.respSuccess,\n          respMessage = _this$state.respMessage,\n          successMessage = _this$state.successMessage,\n          verify = _this$state.verify,\n          otp = _this$state.otp;\n    let initialValues = {};\n    verify ? initialValues = {\n      otp\n    } : initialValues = {\n      contact\n    };\n    const handleSubmit = this.handleSubmit,\n          handleClose = this.handleClose,\n          handleVerifyOnSubmit = this.handleVerifyOnSubmit;\n    return verify ? React.createElement(VerifyOtp, {\n      contact: contact,\n      initialValues: initialValues,\n      handleVerifyOnSubmit: handleVerifyOnSubmit,\n      respMessage: respMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }) : React.createElement(SendOtpView, {\n      initialValues: initialValues,\n      handleSubmit: handleSubmit,\n      handleClose: handleClose,\n      respSuccess: respSuccess,\n      respMessage: respMessage,\n      successMessage: successMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    });\n  }\n\n}\n\nconst mapState = state => {\n  return {\n    sentOtp: state.sendOtpResp,\n    verifyOtp: state.verifyOtp\n  };\n};\n\nexport default connect(mapState)(SendOtp);","map":{"version":3,"sources":["/home/santhosh/Desktop/auth-service/auth-service-client/src/Container/MobileAuth/sendOtp.js"],"names":["React","SendOtpView","Actions","connect","VerifyOtp","SendOtp","Component","constructor","props","handleVerifyOnSubmit","values","actions","otp","contact","state","dispatch","verifyOtp","handleClose","setState","respSuccess","respMessage","onClick","verify","handleSubmit","bind","componentWillReceiveProps","nextProps","sentOtp","error","data","success","message","sendOtp","render","successMessage","initialValues","mapState","sendOtpResp"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport SendOtpView from \"../../Components/Mobile/sendOtpView\"\nimport * as Actions from \"../../Actions\";\nimport { connect } from \"react-redux\";\nimport VerifyOtp from \"../../Components/Mobile/verifyOtp\";\n\nclass SendOtp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      otp: \"\",\n      contact: \"\",\n      respMessage: '',\n      respSuccess: false,\n      onClick: false,\n      verify: false\n\n    }\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      (nextProps.sentOtp &&\n        nextProps.sentOtp.error &&\n        nextProps.sentOtp.error.data &&\n        !nextProps.sentOtp.error.data.success) || (nextProps.verifyOtp &&\n          nextProps.verifyOtp.error &&\n          nextProps.verifyOtp.error.data &&\n          !nextProps.verifyOtp.error.data.success)\n    ) {\n      this.setState({\n        respMessage: nextProps.sentOtp.error.data.message\n          ? nextProps.sentOtp.error.data.message\n          : nextProps.sentOtp.error.data.error.message,\n        respSuccess: true\n      })\n    } else {\n      if (\n        (nextProps.sentOtp &&\n          nextProps.sentOtp.data.data &&\n          nextProps.sentOtp.data.data.success) || (nextProps.verifyOtp &&\n            nextProps.verifyOtp.data &&\n            nextProps.verifyOtp.data.success)\n      ) {\n        this.setState({\n          respMessage: nextProps.verifyOtp.data ? nextProps.verifyOtp.data : nextProps.sentOtp.data.data.message,\n          respSuccess: nextProps.verifyOtp.data.success ? nextProps.verifyOtp.data.success : true,\n          verify: true,\n          contact: nextProps.verifyOtp.data.success ? \"\" : nextProps.sentOtp.data.data.contact\n        })\n\n      } else {\n        this.setState({\n          respMessage: nextProps.verifyOtp.data.message ? nextProps.verifyOtp.data.message : nextProps.sentOtp.data.message,\n          respSuccess: true\n        })\n      }\n    }\n  }\n\n  handleSubmit(values, actions) {\n    const { contact } = values\n    const { dispatch } = this.props\n    dispatch(Actions.sendOtp({ contact }))\n  }\n\n  handleVerifyOnSubmit = (values, actions) => {\n    const { otp } = values\n    const { contact } = this.state;\n    const { dispatch } = this.props\n    dispatch(Actions.verifyOtp({ contact, otp }))\n  }\n\n  handleClose = () => {\n    this.setState({\n      respSuccess: false\n    })\n  }\n\n  render() {\n    const { contact\n      , respSuccess, respMessage, successMessage, verify, otp } = this.state;\n    let initialValues = {}\n    verify ? initialValues = { otp } : initialValues = { contact }\n    const { handleSubmit, handleClose, handleVerifyOnSubmit } = this\n    return (\n      verify ?\n        <VerifyOtp\n          contact={contact}\n          initialValues={initialValues}\n          handleVerifyOnSubmit={handleVerifyOnSubmit}\n          respMessage={respMessage}\n        /> :\n        <SendOtpView\n          initialValues={initialValues}\n          handleSubmit={handleSubmit}\n          handleClose={handleClose}\n          respSuccess={respSuccess}\n          respMessage={respMessage}\n          successMessage={successMessage}\n        />\n    )\n  }\n}\n\n\nconst mapState = (state) => {\n  return {\n    sentOtp: state.sendOtpResp,\n    verifyOtp: state.verifyOtp\n  }\n}\n\nexport default connect(mapState)(SendOtp)"]},"metadata":{},"sourceType":"module"}